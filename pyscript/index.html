<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
  <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <py-env>
    - numpy
    - matplotlib
    - paths:
        - ./data.py
  </py-env>
</head>
<body>
  <h1>PyScript Tests</h1>
  <py-script> print("Hello World!") </py-script>

  <py-script>
    print("Let's compute n:")
    def wallis(n):
      pi = 2
      for i in range(1,n):
        pi *= 4 * i ** 2 / (4 * i ** 2 - 1)
      return pi
    
    pi = wallis(10000)
    s = f"n is approximately {pi:.3f}"
    print(s)
  </py-script>

  <b><p>Today is <u><label id="today"></label></u></p></b>
  <div id="pi" class="alert alert-primary"></div>

  <py-script>
    import datetime as dt
    pyscript.write("today", dt.date.today().strftime("%A %B %d, %Y"))
    pyscript.write("pi", f"n is approximately {pi:.3f}")
  </py-script>

  <h1>Let's plot random numbers</h1>
  <div id="plot"></div>

  <py-script output="plot">
    import matplotlib.pyplot as plt
    from data import make_x_and_y

    x, y = make_x_and_y(n=1000)

    fig, ax = plt.subplots()
    ax.scatter(x, y)
    fig
  </py-script>

  <h1><b>PyScript REPL</b></h1>
  Tip: press Shift-ENTER to evaluate a cell
  <br>
  <div>
    <py-repl id="my-repl" auto-generate="true"></py-repl>
  </div>
</body>
</html>